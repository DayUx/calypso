<app-header [showBack]="true" [showMenu]="true" [actions]="menuActions">
  <div class="header-content">
    <h1>
      {{'Compétiteurs'}}
    </h1>
    <p>
      <span class="title">{{session.title}}</span>
      <span class="date">({{session.date | date:'dd/MM/yyyy'}})</span>
    </p>
  </div>
</app-header>
<div class="content">
  <app-search [(value)]="searchValue" placeholder="Rechercher un tireur"></app-search>
  <app-add-button (click)="createUserButton()" *ngIf="!searchValue"
                  label="Ajouter un tireur"></app-add-button>

  <div class="users">

    <app-empty-text *ngIf="users.length === 0" [icon]="searchValue?'jamSearch':'jamGhost'"
                    [text]="searchValue?'Pas de résultat':'Aucun tireur enregistré'"></app-empty-text>

    <app-user-item [selected]="isUserSelected(user)" long-press
                   (onLongPressing)="onLongPress($event,user)"
                   (click)="userClick(user)" [user]="user"
                   *ngFor="let user of users">
    </app-user-item>
  </div>
</div>

<!--<app-message-box [message]="'Entrer le nom du dossier'" [title]="'Créer un nouveau dossier'"-->
<!--                 [(open)]="openCreateFolderPrompt" (callback)="messageBoxCallback($event)"-->
<!--                 type="prompt"></app-message-box>-->
<app-message-box [title]="'Ajouter un tireur'"
                 [(open)]="openCreateUser"
                 (callback)="createUserCallback($event)"
                 type="okcancel">
  <mat-form-field appearance="outline">
    <mat-label>Tireurs</mat-label>
    <mat-select [(ngModel)]="userToAdd" multiple>
      <mat-option *ngFor="let option of usersSelect()" [value]="option.id">
        {{ option.id }} - {{ option.firstname }} {{ option.lastname }}
      </mat-option>
    </mat-select>
  </mat-form-field>

</app-message-box>

